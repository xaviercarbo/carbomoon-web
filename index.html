<!doctype html>
<html lang="ca">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Carbomoon | Innovació i Disseny</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="icon" type="image/png" href="favicon.png" />
  </head>
  <body>
    <nav class="navbar">
      <div class="logo">
        <a href="https://carbomoon.com">CARBOMOON</a>
      </div>
      <ul class="nav-links">
        <li><a href="#projectes" data-i18n="nav_projects">Projectes</a></li>
        <li><a href="#sobre" data-i18n="nav_about">Sobre</a></li>
        <li>
          <a href="#contacte" class="btn-contact" data-i18n="nav_contact"
            >Contacte</a
          >
        </li>
      </ul>
    </nav>

    <section class="hero">
      <div class="hero-content" data-aos="fade-up">
        <h1 data-i18n="hero_title">Dissenyant el futur digital.</h1>
        <p data-i18n="hero_subtitle">
          Laboratori de dades i solucions creatives per a reptes reals.
        </p>
        <a href="#projectes" class="btn-primary" data-i18n="btn_explore"
          >Explora el treball</a
        >
      </div>
    </section>

    <section id="projectes" class="projects-grid">
      <div class="project-card">
        <a
          href="dades-alpha.html"
          style="text-decoration: none; color: inherit"
        >
          <div
            class="project-image"
            style="background-image: url(&quot;assets/projecte-alpha.jpg&quot;)"
          ></div>
          <div class="project-info">
            <span
              class="badge"
              style="color: #00ff88; font-size: 0.7rem; letter-spacing: 0.1em"
              >HUB DE RECURSOS</span
            >
            <h3 data-i18n="project_alpha_title">Projecte Alpha: Insights</h3>
            <p data-i18n="project_alpha_desc">
              Accés centralitzat a indicadors econòmics i socials de fonts
              oficials globals.
            </p>
          </div>
        </a>
      </div>
    </section>

    <section id="sobre" class="contact-section" style="padding: 100px 5%">
      <div class="contact-container">
        <p
          data-i18n="about_text"
          style="
            font-size: 1.2rem;
            line-height: 1.6;
            opacity: 0.8;
            max-width: 800px;
            margin: 0 auto;
          "
        >
          Carbomoon és una plataforma de recursos digitals. Transformem dades
          macroeconòmiques i eines de gestió en actius intel·ligents per a un
          aprenentage intens i estratègic.
        </p>
      </div>
    </section>

    <section id="contacte" class="contact-section">
      <div class="contact-container">
        <h2 data-i18n="form_title">Parlem del teu proper projecte</h2>
        <form id="contact-form" class="contact-form">
          <input
            type="text"
            name="name"
            data-i18n="form_name"
            placeholder="NOM"
            required
          />
          <input
            type="email"
            name="email"
            data-i18n="form_email"
            placeholder="EMAIL"
            required
          />
          <textarea
            name="message"
            data-i18n="form_msg"
            placeholder="COM ET PUC AJUDAR?"
            rows="5"
            required
          ></textarea>
          <button type="submit" class="btn-submit" data-i18n="form_btn">
            ENVIAR PROPOSTA
          </button>
        </form>
      </div>
    </section>

    <!--Footer-->

    <footer class="footer">
      <div class="footer-content">
        <div class="footer-logo">CARBOMOON</div>
        <div class="footer-links">
          <a href="https://linkedin.com/" target="_blank">LinkedIn</a>
          <a href="mailto:xaviercarbo@carbomoon.com">Email</a>
        </div>
        <p class="copyright">&copy; 2026 Carbomoon. Disseny & Estratègia.</p>
      </div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({ duration: 1000, once: true });
      lucide.createIcons();
    </script>
    <script src="translations.js"></script>

    <script>
      // SUBSTITUEIX aquesta URL per la que t'ha donat Google Apps Script
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbyRCtVHGsxuK5M9bJiWNAZMdi3G2un-_OW8E3TyH03V_hYdwXsRuKCqT8AUPAPANcLD/exec";
      const form = document.getElementById("contact-form");

      if (form) {
        form.addEventListener("submit", (e) => {
          e.preventDefault();

          // Busquem el botó per donar feedback visual
          const btn = form.querySelector(".btn-submit");
          const originalText = btn.innerText;

          btn.disabled = true;
          btn.innerText = "...";

          fetch(scriptURL, { method: "POST", body: new FormData(form) })
            .then((response) => {
              // 1. Detectem l'idioma actual (igual que fem al translations.js)
              const userLang = navigator.language.split("-")[0];
              const lang = translations[userLang] ? userLang : "en";

              // 2. Agafem el missatge d'èxit traduït
              const successMsg = translations[lang]["form_success"] || "OK";

              // 3. Apliquem el feedback visual
              btn.innerText = successMsg;
              btn.style.backgroundColor = "#00ff88";
              btn.style.color = "#000";

              form.reset();

              // 4. Retorn a la home
              setTimeout(() => {
                window.location.href = "index.html";
              }, 3000);
            })
            .catch((error) => {
              console.error("Error!", error.message);
              btn.innerText = "ERR";
              btn.disabled = false;
            });
        });
      }
    </script>
  </body>
</html>
